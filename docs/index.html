<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIXOLON Receipt Printer Documentation</title>
    
    <!-- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <!-- Font Awesome ì•„ì´ì½˜ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #3b82f6;
            --primary-dark: #1e40af;
            --bg-color: #ffffff;
            --sidebar-bg: #f8fafc;
            --sidebar-border: #e2e8f0;
            --text-color: #1f2937;
            --text-muted: #6b7280;
            --hover-bg: #f1f5f9;
            --active-bg: #dbeafe;
            --border-color: #e5e7eb;
            --code-bg: #f3f4f6;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        [data-theme="dark"] {
            --primary-color: #60a5fa;
            --primary-dark: #3b82f6;
            --bg-color: #111827;
            --sidebar-bg: #1f2937;
            --sidebar-border: #374151;
            --text-color: #f9fafb;
            --text-muted: #9ca3af;
            --hover-bg: #374151;
            --active-bg: #1e3a8a;
            --border-color: #4b5563;
            --code-bg: #374151;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--bg-color);
            transition: all 0.3s ease;
        }

        /* ë ˆì´ì•„ì›ƒ */
        .gitbook-container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 300px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--sidebar-border);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            position: relative;
        }

        .sidebar.collapsed {
            width: 0;
            border: none;
        }

        /* ì‚¬ì´ë“œë°” í—¤ë” */
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--sidebar-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .logo i {
            margin-right: 10px;
            color: var(--primary-color);
        }

        /* í…Œë§ˆ í† ê¸€ */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .theme-toggle:hover {
            background: var(--hover-bg);
            color: var(--text-color);
        }

        /* ê²€ìƒ‰ ë°•ìŠ¤ */
        .search-container {
            padding: 15px 20px;
            border-bottom: 1px solid var(--sidebar-border);
        }

        .search-box {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 10px 12px 10px 36px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 14px;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ */
        .nav-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
        }

        .nav-section {
            margin-bottom: 15px;
        }

        .nav-section-title {
            padding: 8px 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 5px;
        }

        .nav-item {
            margin: 2px 10px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            color: var(--text-color);
            text-decoration: none;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-link:hover {
            background: var(--hover-bg);
        }

        .nav-link.active {
            background: var(--active-bg);
            color: var(--primary-color);
            font-weight: 500;
        }

        .nav-link i {
            margin-right: 10px;
            width: 16px;
            text-align: center;
            font-size: 14px;
        }

        .nav-link .badge {
            margin-left: auto;
            background: var(--primary-color);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 500;
        }

        /* ë©”ì¸ ì½˜í…ì¸  */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* ìƒë‹¨ ë°” */
        .top-bar {
            height: 60px;
            background: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 24px;
            box-shadow: var(--shadow);
            z-index: 10;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 18px;
            margin-right: 16px;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
        }

        .menu-toggle:hover {
            background: var(--hover-bg);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            font-size: 14px;
            color: var(--text-muted);
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
        }

        .breadcrumb-item:not(:last-child)::after {
            content: '/';
            margin: 0 8px;
            color: var(--text-muted);
        }

        .breadcrumb-home {
            color: var(--primary-color);
            text-decoration: none;
        }

        /* ì½˜í…ì¸  ì˜ì—­ */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }

        .content-wrapper {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 32px;
        }

        /* í™ˆí˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .home-content {
            text-align: center;
            padding: 60px 32px;
        }

        .home-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 16px;
        }

        .home-subtitle {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .stat-card {
            background: var(--sidebar-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 24px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .quick-start {
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
        }

        .quick-start h3 {
            font-size: 1.3rem;
            color: var(--text-color);
            margin-bottom: 20px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            display: flex;
            align-items: center;
            padding: 8px 0;
            color: var(--text-color);
        }

        .feature-list i {
            color: var(--primary-color);
            margin-right: 12px;
            width: 16px;
        }

        /* ë¬¸ì„œ ì½˜í…ì¸  ìŠ¤íƒ€ì¼ */
        .doc-content h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border-color);
        }

        .doc-content h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-color);
            margin: 32px 0 16px 0;
            position: relative;
        }

        .doc-content h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-color);
            margin: 24px 0 12px 0;
        }

        .doc-content p {
            margin-bottom: 16px;
            line-height: 1.7;
        }

        .doc-content pre {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 16px;
            overflow-x: auto;
            margin: 20px 0;
            font-size: 14px;
        }

        .doc-content code {
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .doc-content pre code {
            background: none;
            padding: 0;
            border: none;
        }

        .doc-content blockquote {
            border-left: 4px solid var(--primary-color);
            margin: 20px 0;
            padding: 16px 20px;
            background: var(--sidebar-bg);
            border-radius: 0 6px 6px 0;
        }

        .doc-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            overflow: hidden;
        }

        .doc-content th,
        .doc-content td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .doc-content th {
            background: var(--sidebar-bg);
            font-weight: 600;
        }

        .doc-content tr:hover {
            background: var(--hover-bg);
        }

        .doc-content ul,
        .doc-content ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        .doc-content li {
            margin: 8px 0;
        }

        /* Mermaid ë‹¤ì´ì–´ê·¸ë¨ */
        .mermaid {
            text-align: center;
            margin: 24px 0;
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 20px;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                left: 0;
                top: 0;
                height: 100%;
                z-index: 20;
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar.collapsed {
                width: 300px;
            }

            .menu-toggle {
                display: block;
            }

            .main-content {
                width: 100%;
            }

            .content-wrapper {
                padding: 24px 16px;
            }

            .home-content {
                padding: 40px 16px;
            }

            .home-title {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px;
            color: var(--text-muted);
        }

        .loading i {
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        .nav-container::-webkit-scrollbar,
        .content-area::-webkit-scrollbar {
            width: 6px;
        }

        .nav-container::-webkit-scrollbar-track,
        .content-area::-webkit-scrollbar-track {
            background: var(--sidebar-bg);
        }

        .nav-container::-webkit-scrollbar-thumb,
        .content-area::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        .nav-container::-webkit-scrollbar-thumb:hover,
        .content-area::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="gitbook-container">
        <!-- ì‚¬ì´ë“œë°” -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-receipt"></i>
                    Receipt Printer
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>

            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" class="search-input" placeholder="ë¬¸ì„œ ê²€ìƒ‰..." id="searchInput">
                </div>
            </div>

            <nav class="nav-container">
                <div class="nav-section">
                    <div class="nav-section-title">Getting Started</div>
                    <div class="nav-item">
                        <a class="nav-link active" onclick="showHome()">
                            <i class="fas fa-home"></i>
                            í™ˆ
                        </a>
                    </div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('README.md')">
                            <i class="fas fa-book-open"></i>
                            í”„ë¡œì íŠ¸ ê°œìš”
                            <span class="badge">New</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('architecture-overview.md')">
                            <i class="fas fa-sitemap"></i>
                            ì•„í‚¤í…ì²˜ ê°œìš”
                        </a>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Core Components</div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('core-printer-utils-analysis.md')">
                            <i class="fas fa-cogs"></i>
                            Core Printer Utils
                        </a>
                    </div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('escpos-commands-deep-dive.md')">
                            <i class="fas fa-terminal"></i>
                            ESC/POS ëª…ë ¹ì–´
                        </a>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">MCP Integration</div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('mcp-wrapper-analysis.md')">
                            <i class="fas fa-link"></i>
                            MCP Wrapper
                        </a>
                    </div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('mcp-stdio.md')">
                            <i class="fas fa-exchange-alt"></i>
                            MCP í†µì‹  ë°©ì‹
                        </a>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Development</div>
                    <div class="nav-item">
                        <a class="nav-link" onclick="loadDocument('backlog.md')">
                            <i class="fas fa-tasks"></i>
                            ê°œë°œ ë°±ë¡œê·¸
                        </a>
                    </div>
                </div>
            </nav>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="main-content">
            <div class="top-bar">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="breadcrumb" id="breadcrumb">
                    <div class="breadcrumb-item">
                        <a href="#" class="breadcrumb-home" onclick="showHome()">í™ˆ</a>
                    </div>
                </div>
            </div>

            <div class="content-area" id="contentArea">
                <!-- í™ˆ ì½˜í…ì¸  -->
                <div id="homeContent" class="home-content">
                    <h1 class="home-title">ğŸ–¨ï¸ BIXOLON Receipt Printer</h1>
                    <p class="home-subtitle">
                        í•œêµ­ì–´ë¥¼ ì§€ì›í•˜ëŠ” ì˜ìˆ˜ì¦ í”„ë¦°í„° MCP ì„œë²„ ë¬¸ì„œì„¼í„°<br>
                        Model Context Protocolì„ í†µí•œ Claude Desktop í†µí•©
                    </p>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-number">6</span>
                            <div class="stat-label">ë¬¸ì„œ ê°œìˆ˜</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">242</span>
                            <div class="stat-label">í•µì‹¬ ìœ í‹¸ ë¼ì¸</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">7</span>
                            <div class="stat-label">ESC/POS ëª…ë ¹ì–´</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">3</span>
                            <div class="stat-label">MCP ë„êµ¬</div>
                        </div>
                    </div>

                    <div class="quick-start">
                        <h3>ì£¼ìš” ê¸°ëŠ¥</h3>
                        <ul class="feature-list">
                            <li><i class="fas fa-check"></i> MCP í”„ë¡œí† ì½œ ì§€ì›ìœ¼ë¡œ Claude Desktopê³¼ ì§ì ‘ í†µí•©</li>
                            <li><i class="fas fa-check"></i> í•œêµ­ì–´ ì™„ë²½ ì§€ì› (EUC-KR ì¸ì½”ë”© ë° ESC/POS ëª…ë ¹ì–´)</li>
                            <li><i class="fas fa-check"></i> ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ì¶œë ¥ (200ì ì´ë‚´)</li>
                            <li><i class="fas fa-check"></i> ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ ì§€ì›</li>
                            <li><i class="fas fa-check"></i> ì§ì ‘ í˜¸ì¶œ êµ¬ì¡° (FastAPI ì„œë²„ ì—†ì´ printer_utils ì§ì ‘ í˜¸ì¶œ)</li>
                        </ul>
                    </div>
                </div>

                <!-- ë¬¸ì„œ ì½˜í…ì¸  -->
                <div id="docContent" class="content-wrapper" style="display: none;">
                    <div class="doc-content">
                        <div class="loading">
                            <i class="fas fa-spinner"></i>
                            ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentTheme = 'light';
        let currentDoc = null;

        // Mermaid ì´ˆê¸°í™”
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3b82f6',
                primaryTextColor: '#1f2937',
                primaryBorderColor: '#3b82f6',
                lineColor: '#6b7280',
                secondaryColor: '#f8fafc',
                tertiaryColor: '#ffffff'
            }
        });

        // í…Œë§ˆ í† ê¸€
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            const icon = document.querySelector('#themeToggle i');
            icon.className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            
            localStorage.setItem('theme', currentTheme);
        }

        // ì‚¬ì´ë“œë°” í† ê¸€ (ëª¨ë°”ì¼)
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        // í™ˆ í‘œì‹œ
        function showHome() {
            document.getElementById('homeContent').style.display = 'block';
            document.getElementById('docContent').style.display = 'none';
            
            // ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector('.nav-link[onclick="showHome()"]').classList.add('active');
            
            // ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸
            updateBreadcrumb('í™ˆ');
            
            currentDoc = null;
            history.pushState({page: 'home'}, '', '#');
        }

        // ë¬¸ì„œ ë¡œë“œ
        async function loadDocument(filename) {
            try {
                // UI ì—…ë°ì´íŠ¸
                document.getElementById('homeContent').style.display = 'none';
                document.getElementById('docContent').style.display = 'block';
                
                const contentDiv = document.querySelector('#docContent .doc-content');
                contentDiv.innerHTML = '<div class="loading"><i class="fas fa-spinner"></i>ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>';
                
                // ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ìƒíƒœ ë³€ê²½
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                document.querySelector(`[onclick="loadDocument('${filename}')"]`).classList.add('active');
                
                // ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ë¡œë“œ
                const response = await fetch(filename);
                if (!response.ok) {
                    throw new Error(`íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${filename}`);
                }
                
                const markdown = await response.text();
                const html = marked.parse(markdown);
                
                // ì½˜í…ì¸  ë Œë”ë§
                contentDiv.innerHTML = html;
                
                // ì½”ë“œ í•˜ì´ë¼ì´íŒ…
                Prism.highlightAll();
                
                // Mermaid ë‹¤ì´ì–´ê·¸ë¨ ë Œë”ë§
                const mermaidElements = document.querySelectorAll('.language-mermaid, code.language-mermaid');
                mermaidElements.forEach((element, index) => {
                    const code = element.textContent;
                    const graphDiv = document.createElement('div');
                    graphDiv.className = 'mermaid';
                    graphDiv.textContent = code;
                    
                    if (element.tagName === 'CODE') {
                        element.parentElement.replaceWith(graphDiv);
                    } else {
                        element.replaceWith(graphDiv);
                    }
                });
                
                // Mermaid ë‹¤ì‹œ ì´ˆê¸°í™”
                mermaid.init();
                
                // ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸
                const title = getDocumentTitle(filename);
                updateBreadcrumb(title);
                
                // ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë¦¬ì…‹
                document.getElementById('contentArea').scrollTop = 0;
                
                currentDoc = filename;
                history.pushState({page: 'document', file: filename}, '', `#${filename}`);
                
                // ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ë‹«ê¸°
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('open');
                }
                
            } catch (error) {
                const contentDiv = document.querySelector('#docContent .doc-content');
                contentDiv.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;"></i>
                        <h2>ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h2>
                        <p style="color: var(--text-muted); margin: 16px 0;">${error.message}</p>
                        <button onclick="showHome()" style="padding: 10px 20px; background: var(--primary-color); color: white; border: none; border-radius: 6px; cursor: pointer;">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                    </div>
                `;
            }
        }

        // ë¬¸ì„œ ì œëª© ì¶”ì¶œ
        function getDocumentTitle(filename) {
            const titles = {
                'README.md': 'í”„ë¡œì íŠ¸ ê°œìš”',
                'architecture-overview.md': 'ì•„í‚¤í…ì²˜ ê°œìš”',
                'core-printer-utils-analysis.md': 'Core Printer Utils',
                'escpos-commands-deep-dive.md': 'ESC/POS ëª…ë ¹ì–´',
                'mcp-wrapper-analysis.md': 'MCP Wrapper',
                'mcp-stdio.md': 'MCP í†µì‹  ë°©ì‹',
                'backlog.md': 'ê°œë°œ ë°±ë¡œê·¸'
            };
            return titles[filename] || filename.replace('.md', '');
        }

        // ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸
        function updateBreadcrumb(title) {
            const breadcrumb = document.getElementById('breadcrumb');
            if (title === 'í™ˆ') {
                breadcrumb.innerHTML = `
                    <div class="breadcrumb-item">
                        <a href="#" class="breadcrumb-home" onclick="showHome()">í™ˆ</a>
                    </div>
                `;
            } else {
                breadcrumb.innerHTML = `
                    <div class="breadcrumb-item">
                        <a href="#" class="breadcrumb-home" onclick="showHome()">í™ˆ</a>
                    </div>
                    <div class="breadcrumb-item">${title}</div>
                `;
            }
        }

        // ê²€ìƒ‰ ê¸°ëŠ¥
        function filterNavigation(query) {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                const text = link.textContent.toLowerCase();
                const item = link.closest('.nav-item');
                if (text.includes(query.toLowerCase()) || query === '') {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ì²˜ë¦¬
        window.addEventListener('popstate', (event) => {
            if (!event.state || event.state.page === 'home') {
                showHome();
            } else if (event.state.page === 'document') {
                loadDocument(event.state.file);
            }
        });

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            // ì €ì¥ëœ í…Œë§ˆ ë¡œë“œ
            const savedTheme = localStorage.getItem('theme') || 'light';
            currentTheme = savedTheme;
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            const themeIcon = document.querySelector('#themeToggle i');
            themeIcon.className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('menuToggle').addEventListener('click', toggleSidebar);
            document.getElementById('searchInput').addEventListener('input', (e) => {
                filterNavigation(e.target.value);
            });
            
            // URL í•´ì‹œ í™•ì¸
            const hash = window.location.hash.slice(1);
            if (hash && hash.endsWith('.md')) {
                loadDocument(hash);
            } else {
                showHome();
            }
            
            // ëª¨ë°”ì¼ì—ì„œ ì½˜í…ì¸  í´ë¦­ ì‹œ ì‚¬ì´ë“œë°” ë‹«ê¸°
            document.getElementById('contentArea').addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>